"use strict";$(function(){function t(t,e){var s=$(e).css("backgroundImage"),i=$(e).find(".hero__tile-list");s&&i.length>0&&$(i).css({backgroundImage:s})}function e(t,e,s,i){function n(){d.addClass("no-animate")}function a(t,e,s){var i=$(d).find(".timed-dots__item");i.eq(s).addClass("is-active").siblings().removeClass("is-active")}function o(){d.removeClass("no-animate")}function l(){$(e).slick("goTo",$(this).index())}var r=t.$slides.length;if(!(r<2))for(var c=t.options.autoplaySpeed,d=$("<div />",{"class":s+" timed-dots"}),p=0;p<r;p++){var h=$("<div />",{"class":"timed-dots__item",html:"<span>0"+(p+1)+'</span>\n\t\t\t\t\t\t\t<svg viewBox="0 0 56 56">\n\t\t\t\t\t\t\t\t<circle \n\t\t\t\t\t\t\t\t\tcx="28" \n\t\t\t\t\t\t\t\t\tcy="28" \n\t\t\t\t\t\t\t\t\tr="25" \n\t\t\t\t\t\t\t\t\tstroke-width="2" \n\t\t\t\t\t\t\t\t\tfill="none"\n\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\t\t-moz-animation-duration: '+c+"ms !important;\n\t\t\t\t\t\t\t\t\t\t-webkit-animation-duration: "+c+"ms !important; \n\t\t\t\t\t\t\t\t\t\tanimation-duration: "+c+'ms !important" />\n\t\t\t\t\t\t\t</svg>'});0===p&&h.addClass("is-active"),h.on("click",l),d.append(h),$(i).append(d),$(e).on("mouseover",n).on("mouseout",o).on("afterChange",a)}}$(".hero__slider").on("init",function(t,s){e(s,".hero__slider","hero__dots",".hero")}),$(".hero__slider").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:7e3,fade:!0,arrows:!1,dots:!1}),$(".hero__slider .hero__slide").each(t),$(".js-select").SumoSelect({captionFormat:"{0} Выбрано",captionFormatAllSelected:"{0} Все выбраны"}),function(){function t(){var t=$(this).closest(".person-slider-wrapper").find(".person-slider");$(t).length>0&&$(t).slick("goTo",$(this).index())}$(".person-slider").each(function(t,e){var s=$(e).closest(".slider-wrapper"),i=$(e).closest(".person-slider-wrapper"),n=i.find(".person-list");$(e).slick({fade:!0,adaptiveHeight:!0,appendArrows:$(s),responsive:[{breakpoint:1024,settings:{arrows:!1,dots:!0}}]}),n.length>0&&$(e).on("afterChange",function(t,e,s){n.find(".person-list__item").eq(s).addClass("is-active").siblings(".person-list__item").removeClass("is-active")})}),$(".person-list__item").on("click",t)}(),function(){function t(t,e){var s=$(e).closest(".slider-wrapper");$(e).slick({appendArrows:$(s),slidesToShow:5,slidesToScroll:5,infinite:!1,responsive:[{breakpoint:1200,settings:{arrows:!1,dots:!0}},{breakpoint:1024,settings:{arrows:!1,slidesToShow:3,slidesToScroll:3,dots:!0}},{breakpoint:680,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2,dots:!0}}]})}var e=$(".service-slider");e.length&&e.each(t)}(),function(){function t(t){t.preventDefault();$(this).closest(".mapper").addClass("is-active")}$(".mapper__link").on("click",t)}(),function(){function t(){var t=$(this),e=$("<div />",{"class":"lined-list-wrapper slider-wrapper"});t.wrap(e);var s=$(t).closest(".lined-list-wrapper");t.slick({appendArrows:$(s),infinite:!1,slidesToShow:5,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,dots:!0}},{breakpoint:780,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,dots:!0}}]})}var e=$(".lined-list, .pillar-list");e.length&&$(".lined-list, .pillar-list").each(t),$(".lined-list, .pillar-list").on("setPosition",function(){$(this).find(".slick-slide").height("auto");var t=$(this).find(".slick-track"),e=$(t).height();$(this).find(".slick-slide").css("height",e+"px")}),$(".wysiwyg table").wrap('<div class="table-wrap"></div>')}(),function(){var t=$(".carousel");t.length&&(t.on("init",function(t,s){e(s,".carousel","carousel__dots",".carousel")}),t.slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:7e3,arrows:!1,dots:!1,fade:!0}))}(),function(){function t(t){var e=this,s=this,i=t.el,n=t.wrapperClass,a=t.unitClass,o=t.btnClass,l=t.selectContainer;return this.el=$(i),this.wrapper=$(i).closest(n),this.select=null,this.selectContainer=l?this.el.find(l):i,this.applyBindings=function(){$(o).on("click",s.clickHandler),e.select.on("change",s.selectHandler),e.select.SumoSelect({})},this.mapItem=function(t,e){return $("<option></option>",{attr:{value:$(e).attr("href")},text:$(e).text(),selected:$(e).hasClass("is-active")})},this.selectHandler=function(t){var e=$(o+"[href='"+t.target.value+"']"),i=$(t.target.value);s.tabHandler(i,e,t.target.value)},this.makeMobileSelect=function(t){if(!$(t).hasClass("is-mobile-init")){var i=$(t).find(o),n=i.map(s.mapItem),a=$("<div />",{"class":"form-select tabs-select"});e.select=$("<select></select>"),n.each(function(t,s){return e.select.append(s)}),a.append(e.select),$(e.selectContainer).prepend(a),$(t).addClass("is-mobile-init")}},this.tabHandler=function(t,e,i){!e.hasClass("is-active")&&t.length&&(t.addClass("is-active").siblings(a).removeClass("is-active"),e.addClass("is-active").siblings(o).removeClass("is-active"),s.select[0].sumo.selectItem(i))},this.clickHandler=function(t){t.preventDefault();var e=$(this),i=e.attr("href");s.tabHandler($(i),e,i)},this.init=function(){s.makeMobileSelect(s.wrapper),s.applyBindings()},this.init(),this}$(".newstab").each(function(e,s){new t({el:s,btnClass:".newstab-nav__item",unitClass:".newstab-content__item",wrapperClass:".newstab",selectContainer:".newstab__grid-content"})}),$(".tab-wrapper").each(function(e,s){new t({el:s,btnClass:".tab-nav__item",unitClass:".tab",wrapperClass:".tab-wrapper",selectContainer:".tab-head"})})}(),function(){function t(t,e){var s=$(e).attr("data-chart");if(s){try{s=JSON.parse(decodeURIComponent(s))}catch(i){if(i)throw new Error(i)}var n=$(e).find(".invest-card__test");AmCharts.makeChart(n[0],{type:"serial",marginRight:0,marginLeft:0,autoMarginOffset:0,colors:["#fff"],dataProvider:s,dataDateFormat:"YYYY-MM-DD",valueAxes:[{axisAlpha:0,labelsEnabled:!1,gridAlpha:0,gridThickness:0,offset:0,ignoreAxisWidth:!0,inside:!0}],graphs:[{id:"g1",lineThickness:2,valueField:"value",fillColors:["#fff"]}],categoryField:"date",categoryAxis:{parseDates:!0,dashLength:1,minorGridEnabled:!0,labelsEnabled:!1,gridAlpha:0,gridThickness:0,ignoreAxisWidth:!0,inside:!0}})}}var e=$(".invest-card"),s=$(".invest-slider__list");e.length&&e.each(t),s.length&&s.slick({slidesToShow:3,slidesToScroll:3,infinite:!1,prevArrow:$(".invest-slider__arrow--prev"),nextArrow:$(".invest-slider__arrow--next"),responsive:[{breakpoint:1300,settings:{arrows:!1}},{breakpoint:1100,settings:{arrows:!1,slidesToScroll:2}},{breakpoint:600,settings:{arrows:!1,slidesToScroll:1}}]})}(),function(){function t(){var t=$(this),e=t.closest(".accordeon__item"),s=e.find(".accordeon__data");e.hasClass("is-active")?(s.stop(!0,!0).slideUp(),e.removeClass("is-active")):(s.stop(!0,!0).slideDown(),e.addClass("is-active"))}$(".accordeon__title").on("click",t)}(),function(){function t(t,e){function s(){var t=$(this).attr("data-slick")||0;e.goTo(t)}var i=$(e.$slider).closest(".slider-wrapper"),n=$("<div />",{"class":"gallery-thumbs"});e.$slides.each(function(t,i){var a=$(i).attr("data-thumb")||$(i).attr("src"),o=$("<div />",{"class":"gallery-thumbs__item","data-slick":t,css:{backgroundImage:"url("+a+")"}});e.currentSlide===t&&o.addClass("is-active"),o.on("click",s),n.append(o)}),n.insertAfter(i)}$(".gallery").each(function(e,s){var i=$(s).closest(".slider-wrapper");$(s).on("init",t),$(s).slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:7e3,dots:!1,appendArrows:$(i),responsive:[{breakpoint:1260,settings:{arrows:!1}},{breakpoint:780,settings:{dots:!0,arrows:!1}}]}),setTimeout(function(){var t=$(i).siblings(".gallery-thumbs");$(s).on("afterChange",function(e,s,i){var n=t.find(".gallery-thumbs__item")[i];$(n).addClass("is-active").siblings(".gallery-thumbs__item").removeClass("is-active")})},0)})}(),function(){function t(t){if($(t).find(".checkbox__box"),!($(t).find(".checkbox__box").length>0)){var e=$(t).find("input"),s=(e[0].type,$("<div />",{"class":"checkbox__box"}));$(t).addClass("is-initialize"),s.insertAfter(e)}}$(".checkbox").each(function(e,s){t(s)})}(),function(){function t(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var s=document.createElement("div");s.style.width="100%",t.appendChild(s);var i=s.offsetWidth;return t.parentNode.removeChild(t),e-i}function e(){var t=".on-mobile-open { margin-right: "+n+"px }",e=document.head||document.getElementsByTagName("head")[0],s=document.getElementById("mobile-block-css");s||(s=document.createElement("style"),s.type="text/css",s.id="mobile-block-css",s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t)),e.appendChild(s))}function s(t){t.preventDefault(),e(),i.is(":visible")?i.stop(!0,!0).fadeOut(400,function(){$("body").removeClass("on-mobile-open")}):(i.stop(!0,!0).fadeIn(300),$("body").addClass("on-mobile-open"))}var i=$(".mobile-block"),n=($("body"),t());e(),$(".js-mbtoggle").on("click",s)}(),function(){function t(e){var s=$(e.target);s.closest(".js-bar__btn").length||($(".js-bar__btn").removeClass("is-active"),i=0,$(document).off("click",t))}function e(){i&&($(".js-bar__btn").removeClass("is-active"),i=0)}function s(e){var s=$(this).closest(".js-bar__btn"),n="is-active";$(".js-bar__btn").not(s).removeClass(n),$(e.target).closest(".bar-tip").length||(s.hasClass(n)?($(this).removeClass(n),i=0):($(this).addClass(n),i=1,$(document).on("click",t)))}var i=0;$(".js-bar__btn").on("click",s),$(window).on("resize",e)}(),function(){function t(){var t=$("<div />",{"class":"page-nav-drop"});return t.text("Выбор раздела"),t.on("click",e),t}function e(t){var e=this;t.preventDefault();var s=$(this).siblings(".page-nav");$(this).hasClass("is-active")?$(s).stop(!0,!0).slideUp(400,function(){$(e).removeClass("is-active"),$(s).css("display","")}):$(s).stop(!0,!0).slideDown(400,function(){$(e).addClass("is-active"),$(s).css("display","")})}var s=$(".page-nav");s.each(function(e,s){var i=t();0===$(s).siblings(".page-nav-drop").length&&i.insertBefore(s)})}(),function(){$(".fb").fancybox()}()});
//# sourceMappingURL=../javascripts/common.js.map
