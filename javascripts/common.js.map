{"version":3,"sources":["common.js"],"names":["$","applyHeroBackground","idx","el","console","log","bg","css","target","find","length","backgroundImage","newsTabHandler","e","preventDefault","this","attr","addClass","siblings","removeClass","makeHerorDots","handler","slick","index","l","container","class","i","link","html","on","append","personListHandler","slider","closest","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","fade","arrows","dots","each","eq","SumoSelect","captionFormat","captionFormatAllSelected","wrapper","block","list","adaptiveHeight","appendArrows","infinite","makeSlider","listWrapper","wrap","tabHandler","self","hasClass","data","JSON","parse","decodeURIComponent","err","Error","AmCharts","makeChart","type","marginRight","marginLeft","autoMarginOffset","colors","dataProvider","dataDateFormat","valueAxes","axisAlpha","labelsEnabled","gridAlpha","gridThickness","offset","ignoreAxisWidth","inside","graphs","id","lineThickness","valueField","fillColors","categoryField","categoryAxis","parseDates","dashLength","minorGridEnabled","prevArrow","nextArrow"],"mappings":"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","file":"../sources/common.js","sourcesContent":["$(function() {\r\n\tmakeHerorDots ();\r\n\r\n\t$('.hero__slider').slick({\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tautoplay: true,\r\n\t\tautoplaySpeed: 7000,\r\n\t\tfade: true,\r\n\t\tarrows: false,\r\n\t\tdots: false\r\n\t});\r\n\r\n\t$('.hero__slider .hero__slide').each(applyHeroBackground);\r\n\r\n\t$('.hero__slider').on('afterChange',  (e, slick, idx) =>{\r\n\t\t$('.hero__dots-item').eq(idx)\r\n\t\t\t.addClass('is-active')\r\n\t\t\t.siblings().removeClass('is-active');\r\n\t})\r\n\r\n\r\n\tfunction applyHeroBackground (idx, el) {\r\n\t\tconsole.log(\"el: \", el);\r\n\t\tlet bg = $(el).css('backgroundImage');\r\n\t\tlet target = $(el).find('.hero__tile-list');\r\n\t\tconsole.log(\"target: \", target);\r\n\r\n\t\tif(bg && target.length > 0) {\r\n\t\t\t$(target).css({\r\n\t\t\t\tbackgroundImage: bg\r\n\t\t\t})\r\n\t\t}\r\n\t} \r\n\r\n\tfunction newsTabHandler(e) {\r\n\t\te.preventDefault();\r\n\t\tlet target = $(this).attr('href');\r\n\t\t$(this).addClass('is-active').siblings().removeClass('is-active');\r\n\t\t$(target).addClass('is-active').siblings().removeClass('is-active');\r\n\t}\r\n\r\n\tfunction makeHerorDots () {\r\n\t\tlet l = $('.hero__slider .hero__slide').length;\r\n\r\n\t\tif(l === 0) return;\r\n\r\n\t\tlet container = $('<div />', {\r\n\t\t\tclass: 'hero__dots'\r\n\t\t});\r\n\r\n\t\tfunction handler () {\r\n\t\t\t$('.hero__slider').slick('goTo', $(this).index())\r\n\t\t} \r\n\r\n\t\tfor (var i = 0; i < l; i++) {\r\n\t\t\tlet link = $('<div />', {\r\n\t\t\t\tclass: 'hero__dots-item',\r\n\t\t\t\thtml: `<span>0${i + 1}</span><svg  viewBox=\"0 0 56 56\"> <circle cx=\"28\" cy=\"28\" r=\"25\" stroke=\"red\" stroke-width=\"2\" fill=\"none\" /></svg>`\r\n\t\t\t});\r\n\r\n\t\t\tif(i === 0) {\r\n\t\t\t\tlink.addClass('is-active')\r\n\t\t\t}\r\n\r\n\t\t\tlink.on('click', handler)\r\n\r\n\t\t\tcontainer.append(link)\r\n\t\t}\r\n\r\n\t\t$('.hero').append(container)\r\n\t}\r\n\r\n\t$('.js-select').SumoSelect({\r\n\t\tcaptionFormat: '{0} Выбрано',\r\n\t\tcaptionFormatAllSelected: '{0} Все выбраны'\r\n\t})\r\n\r\n\r\n\t$('.newstab-nav__item').on('click', newsTabHandler);\r\n\r\n\t$('.person-slider').each(function(idx, el) {\r\n\t\tlet wrapper = $(el).closest('.slider-wrapper');\r\n\t\tlet block = $(el).closest('.person-slider-wrapper');\r\n\t\tlet list = block.find('.person-list');\r\n\t\r\n\t\t$(el).slick({\r\n\t\t\tfade: true,\r\n\t\t\tadaptiveHeight: true,\r\n\t\t\tappendArrows: $(wrapper)\r\n\t\t});\r\n\r\n\t\tif(list.length > 0) {\r\n\t\t\t$(el).on('afterChange', function(e, slick, i){\r\n\t\t\t\t\r\n\t\t\t\tlist.find('.person-list__item').eq(i)\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.person-list__item')\r\n\t\t\t\t\t.removeClass('is-active')\r\n\t\t\t})\r\n\t\t}\r\n\t});\r\n\r\n\t$('.service-slider').each(function(idx, el) {\r\n\t\tlet wrapper = $(el).closest('.slider-wrapper');\r\n\t\r\n\t\t$(el).slick({\r\n\t\t\tappendArrows: $(wrapper),\r\n\t\t\tslidesToShow: 5,\r\n\t\t\tslidesToScroll: 5,\r\n\t\t\tinfinite: false\r\n\t\t});\r\n\t});\r\n\r\n\tfunction personListHandler () {\r\n\t\tlet slider = $(this).closest('.person-slider-wrapper').find('.person-slider');\r\n\r\n\t\tif($(slider).length > 0) {\r\n\t\t\t$(slider).slick('goTo', $(this).index())\r\n\t\t}\r\n\t}\r\n\r\n\t$('.person-list__item').on('click', personListHandler);\r\n\r\n\r\n\t;(function(){\r\n\t\t$('.mapper__link').on('click', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet target = $(this).closest('.mapper').addClass('is-active');\r\n\t\t})\r\n\t})();\r\n\r\n\r\n\t;(function(){\r\n\t\t$('.lined-list').each(makeSlider);\r\n\t\tfunction makeSlider () {\r\n\t\t\tlet list = $(this);\r\n\r\n\t\t\tlet listWrapper = $('<div />', {\r\n\t\t\t\tclass: 'lined-list-wrapper slider-wrapper'\r\n\t\t\t});\r\n\t\t\tlist.wrap(listWrapper);\r\n\r\n\t\t\tlet wrapper = $(list).closest('.lined-list-wrapper');\r\n\r\n\t\t\tlist.slick({\r\n\t\t\t\tappendArrows: $(wrapper),\r\n\t\t\t\tinfinite: false,\r\n\t\t\t\tslidesToShow: 5,\r\n\t\t\t})\r\n\t\t} \r\n\t})();\r\n\r\n\r\n\t;(function(){\r\n\t\t$('.tab-nav__item').on('click', tabHandler);\r\n\r\n\t\tfunction tabHandler (e) {\r\n\t\t\tlet self = $(this);\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif(self.hasClass('is-active')) return;\r\n\r\n\t\t\tlet target = self.attr('href');\r\n\r\n\t\t\tif($(target).length > 0) {\r\n\t\t\t\t$(target)\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.tab').removeClass('is-active');\r\n\r\n\t\t\t\tself\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.tab-nav__item').removeClass('is-active');\r\n\t\t\t} else {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} \r\n\t})();\r\n\r\n\r\n\t// invest slider\r\n\t!(function(){\r\n\t\t// invest cards\r\n\r\n\t\t$('.invest-card').each((idx, el) => {\r\n\t\t\tlet data = $(el).attr('data-chart');\r\n\r\n\t\t\tif(!data) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdata = JSON.parse(decodeURIComponent(data));\r\n\t\t\t} catch(err) {\r\n\t\t\t\tif(err) {\r\n\t\t\t\t\tthrow new Error(err)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet container = $(el).find('.invest-card__test');\r\n\t\t\tlet chart =  AmCharts.makeChart(container[0], {\r\n\t\t\t\t\"type\": \"serial\",\r\n\t\t    \"marginRight\": 0,\r\n\t\t    \"marginLeft\": 0,\r\n\t\t    \"autoMarginOffset\": 0,\r\n        colors: ['#fff'],\r\n\t\t    \"dataProvider\": data,\r\n    \t\t\"dataDateFormat\": \"YYYY-MM-DD\",\r\n\t\t    \"valueAxes\": [{\r\n          \"axisAlpha\": 0,\r\n          labelsEnabled: false,\r\n          gridAlpha: 0,\r\n          gridThickness: 0,\r\n          offset: 0,\r\n          ignoreAxisWidth: true,\r\n          inside: true\r\n        }],\r\n        \"graphs\": [{\r\n          \"id\": \"g1\",\r\n          \"lineThickness\": 2,\r\n          \"valueField\": \"value\",\r\n          fillColors: ['#fff']\r\n\t      }],\r\n\t\t    \"categoryField\": \"date\",\r\n\t\t    \"categoryAxis\": {\r\n\t\t        \"parseDates\": true,\r\n\t\t        \"dashLength\": 1,\r\n\t\t        \"minorGridEnabled\": true,\r\n          \tlabelsEnabled: false,\r\n\t          gridAlpha: 0,\r\n\t          gridThickness: 0,\r\n\t          ignoreAxisWidth: true,\r\n\t          inside: true\r\n\t\t    }\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n\t\t// init slider\r\n\t\t$('.invest-slider__list').slick({\r\n\t\t\tslidesToShow: 3,\r\n\t\t\tslidesToScroll: 3,\r\n\t\t\tinfinite: false,\r\n\t\t\tprevArrow: $('.invest-slider__arrow--prev'),\r\n\t\t\tnextArrow: $('.invest-slider__arrow--next')\r\n\t\t});\r\n\r\n\r\n\t})();\r\n});"]}