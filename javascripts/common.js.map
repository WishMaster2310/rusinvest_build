{"version":3,"sources":["common.js"],"names":["$","applyHeroBackground","idx","el","bg","css","target","find","length","backgroundImage","newsTabHandler","e","preventDefault","this","attr","addClass","siblings","removeClass","makeCustomDots","slick","slider","dotsClass","dest","overHandler","container","changeHandler","s","i","items","eq","outHandler","handler","index","len","$slides","ms","options","autoplaySpeed","class","link","html","on","append","personListHandler","closest","slidesToShow","slidesToScroll","autoplay","fade","arrows","dots","each","SumoSelect","captionFormat","captionFormatAllSelected","wrapper","block","list","adaptiveHeight","appendArrows","responsive","breakpoint","settings","infinite","makeSlider","listWrapper","wrap","height","slickTrack","slickTrackHeight","tabHandler","self","hasClass","data","JSON","parse","decodeURIComponent","err","Error","AmCharts","makeChart","type","marginRight","marginLeft","autoMarginOffset","colors","dataProvider","dataDateFormat","valueAxes","axisAlpha","labelsEnabled","gridAlpha","gridThickness","offset","ignoreAxisWidth","inside","graphs","id","lineThickness","valueField","fillColors","categoryField","categoryAxis","parseDates","dashLength","minorGridEnabled","prevArrow","nextArrow","accordeonHandler","item","stop","slideUp","slideDown","createThumbs","itemHandler","goTo","$slider","console","log","n","src","data-slick","currentSlide","insertAfter","setTimeout","slide","applyCheckbox","input","box","getScrollbarWidth","outer","document","createElement","style","visibility","width","msOverflowStyle","body","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","appendStyles","w","head","getElementsByTagName","getElementById","styleSheet","cssText","createTextNode","toggleMobileBlock","event","is","fadeOut","fadeIn","toggleClass","makeDrop","div","text","pageNavToggle","_this","nav","d","insertBefore","fancybox"],"mappings":"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","file":"../sources/common.js","sourcesContent":["$(function() {\r\n\t//makeHerorDots ();\r\n\t$('.hero__slider').on('init', (e, slick)=> {\r\n\t\tmakeCustomDots(slick, '.hero__slider', 'hero__dots', '.hero');\r\n\t});\r\n\r\n\t$('.hero__slider').slick({\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tautoplay: true,\r\n\t\tautoplaySpeed: 7000,\r\n\t\tfade: true,\r\n\t\tarrows: false,\r\n\t\tdots: false\r\n\t});\r\n\r\n\t$('.hero__slider .hero__slide').each(applyHeroBackground);\r\n\r\n\tfunction applyHeroBackground (idx, el) {\r\n\t\tlet bg = $(el).css('backgroundImage');\r\n\t\tlet target = $(el).find('.hero__tile-list');\r\n\r\n\t\tif(bg && target.length > 0) {\r\n\t\t\t$(target).css({\r\n\t\t\t\tbackgroundImage: bg\r\n\t\t\t})\r\n\t\t}\r\n\t} \r\n\r\n\tfunction newsTabHandler(e) {\r\n\t\te.preventDefault();\r\n\t\tlet target = $(this).attr('href');\r\n\t\t$(this).addClass('is-active').siblings().removeClass('is-active');\r\n\t\t$(target).addClass('is-active').siblings().removeClass('is-active');\r\n\t}\r\n\r\n\tfunction makeCustomDots (slick, slider, dotsClass, dest) {\r\n\t\tlet len = slick.$slides.length;\r\n\t\tif(len < 2) return;\r\n\t\tlet ms = slick.options.autoplaySpeed\r\n\r\n\t\tlet container = $('<div />', {\r\n\t\t\tclass: `${dotsClass} timed-dots`\r\n\t\t});\r\n\r\n\t\tfunction overHandler() {\r\n\t\t\tcontainer.addClass('no-animate')\r\n\t\t}\r\n\r\n\t\tfunction changeHandler (e, s, i) {\r\n\t\t\tlet items = $(container).find('.timed-dots__item');\r\n\t\t\titems.eq(i)\r\n\t\t\t\t.addClass('is-active')\r\n\t\t\t\t.siblings().removeClass('is-active');\r\n\t\t} \r\n\r\n\t\tfunction outHandler() {\r\n\t\t\tcontainer.removeClass('no-animate')\r\n\t\t} \r\n\r\n\t\tfunction handler () {\r\n\t\t\t$(slider).slick('goTo', $(this).index())\r\n\t\t} \r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tlet link = $('<div />', {\r\n\t\t\t\tclass: `timed-dots__item`,\r\n\t\t\t\thtml: `<span>0${i + 1}</span>\r\n\t\t\t\t\t\t\t<svg viewBox=\"0 0 56 56\">\r\n\t\t\t\t\t\t\t\t<circle \r\n\t\t\t\t\t\t\t\t\tcx=\"28\" \r\n\t\t\t\t\t\t\t\t\tcy=\"28\" \r\n\t\t\t\t\t\t\t\t\tr=\"25\" \r\n\t\t\t\t\t\t\t\t\tstroke-width=\"2\" \r\n\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\t\t\t\t-moz-animation-duration: ${ms}ms !important;\r\n\t\t\t\t\t\t\t\t\t\t-webkit-animation-duration: ${ms}ms !important; \r\n\t\t\t\t\t\t\t\t\t\tanimation-duration: ${ms}ms !important\" />\r\n\t\t\t\t\t\t\t</svg>`\r\n\t\t\t});\r\n\r\n\t\t\tif(i === 0) {\r\n\t\t\t\tlink.addClass('is-active')\r\n\t\t\t}\r\n\r\n\t\t\tlink.on('click', handler)\r\n\t\t\tcontainer.append(link)\r\n\t\t\t$(dest).append(container);\r\n\t\t\t$(slider)\r\n\t\t\t\t.on('mouseover', overHandler)\r\n\t\t\t\t.on('mouseout', outHandler)\r\n\t\t\t\t.on('afterChange', changeHandler)\r\n\t\t}\r\n\t} \r\n\r\n\t$('.js-select').SumoSelect({\r\n\t\tcaptionFormat: '{0} Выбрано',\r\n\t\tcaptionFormatAllSelected: '{0} Все выбраны'\r\n\t})\r\n\r\n\r\n\t$('.newstab-nav__item').on('click', newsTabHandler);\r\n\r\n\t$('.person-slider').each(function(idx, el) {\r\n\t\tlet wrapper = $(el).closest('.slider-wrapper');\r\n\t\tlet block = $(el).closest('.person-slider-wrapper');\r\n\t\tlet list = block.find('.person-list');\r\n\t\r\n\t\t$(el).slick({\r\n\t\t\tfade: true,\r\n\t\t\tadaptiveHeight: true,\r\n\t\t\tappendArrows: $(wrapper),\r\n\t\t\tresponsive: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbreakpoint: 1024,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\tdots: true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t\tif(list.length > 0) {\r\n\t\t\t$(el).on('afterChange', function(e, slick, i){\r\n\t\t\t\t\r\n\t\t\t\tlist.find('.person-list__item').eq(i)\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.person-list__item')\r\n\t\t\t\t\t.removeClass('is-active')\r\n\t\t\t})\r\n\t\t}\r\n\t});\r\n\r\n\t$('.service-slider').each(function(idx, el) {\r\n\t\tlet wrapper = $(el).closest('.slider-wrapper');\r\n\t\r\n\t\t$(el).slick({\r\n\t\t\tappendArrows: $(wrapper),\r\n\t\t\tslidesToShow: 5,\r\n\t\t\tslidesToScroll: 5,\r\n\t\t\tinfinite: false,\r\n\t\t\tresponsive: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbreakpoint: 1200,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\tdots: true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbreakpoint: 1024,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\tslidesToShow: 3,\r\n\t\t\t\t\t\tslidesToScroll: 3,\r\n\t\t\t\t\t\tdots: true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbreakpoint: 680,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t\t\tslidesToScroll: 2,\r\n\t\t\t\t\t\tdots: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t});\r\n\r\n\tfunction personListHandler () {\r\n\t\tlet slider = $(this).closest('.person-slider-wrapper').find('.person-slider');\r\n\r\n\t\tif($(slider).length > 0) {\r\n\t\t\t$(slider).slick('goTo', $(this).index())\r\n\t\t}\r\n\t}\r\n\r\n\t$('.person-list__item').on('click', personListHandler);\r\n\r\n\t//mapped link\r\n\t(function(){\r\n\t\t$('.mapper__link').on('click', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet target = $(this).closest('.mapper').addClass('is-active');\r\n\t\t})\r\n\t})();\r\n\r\n\r\n\t(function(){\r\n\t\t$('.lined-list, .pillar-list').each(makeSlider);\r\n\t\tfunction makeSlider () {\r\n\t\t\tlet list = $(this);\r\n\r\n\t\t\tlet listWrapper = $('<div />', {\r\n\t\t\t\tclass: 'lined-list-wrapper slider-wrapper'\r\n\t\t\t});\r\n\t\t\tlist.wrap(listWrapper);\r\n\r\n\t\t\tlet wrapper = $(list).closest('.lined-list-wrapper');\r\n\r\n\t\t\tlist.slick({\r\n\t\t\t\tappendArrows: $(wrapper),\r\n\t\t\t\tinfinite: false,\r\n\t\t\t\tslidesToShow: 5,\r\n\t\t\t\tresponsive: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 1024,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tslidesToShow: 3,\r\n\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\t\tdots: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 780,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\tarrows: false,\r\n\t\t\t\t\t\t\tdots: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t})\r\n\t\t} \r\n\r\n\t\t$('.lined-list, .pillar-list').on('setPosition', function () {\r\n\t\t\t$(this).find('.slick-slide').height('auto');\r\n\t\t\tvar slickTrack = $(this).find('.slick-track');\r\n\t\t\tvar slickTrackHeight = $(slickTrack).height();\r\n\t\t\t$(this).find('.slick-slide').css('height', slickTrackHeight + 'px');\r\n\t\t});\r\n\r\n\t\t// wrap tables\r\n\r\n\t\t$('.wysiwyg table').wrap('<div class=\"table-wrap\"></div>');\r\n\t})();\r\n\r\n\r\n\t(function () {\r\n\t\t$('.carousel').on('init', (e, slick)=> {\r\n\t\t\tmakeCustomDots(slick, '.carousel', 'carousel__dots', '.carousel');\r\n\t\t});\r\n\r\n\t\t$('.carousel').slick({\r\n\t\t\tslidesToShow: 1,\r\n\t\t\tslidesToScroll: 1,\r\n\t\t\tautoplay: true,\r\n\t\t\tautoplaySpeed: 7000,\r\n\t\t\tarrows: false,\r\n\t\t\tdots: false,\r\n\t\t\tfade: true\r\n\t\t});\r\n\t})();\r\n\r\n\t// carousel\r\n\t(function(){\r\n\t\t$('.tab-nav__item').on('click', tabHandler);\r\n\r\n\t\tfunction tabHandler (e) {\r\n\t\t\tlet self = $(this);\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif(self.hasClass('is-active')) return;\r\n\r\n\t\t\tlet target = self.attr('href');\r\n\r\n\t\t\tif($(target).length > 0) {\r\n\t\t\t\t$(target)\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.tab').removeClass('is-active');\r\n\r\n\t\t\t\tself\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.tab-nav__item').removeClass('is-active');\r\n\t\t\t} else {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} \r\n\t})();\r\n\r\n\t// invest slider\r\n\t(function(){\r\n\t\t// invest cards\r\n\r\n\t\t$('.invest-card').each((idx, el) => {\r\n\t\t\tlet data = $(el).attr('data-chart');\r\n\r\n\t\t\tif(!data) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdata = JSON.parse(decodeURIComponent(data));\r\n\t\t\t} catch(err) {\r\n\t\t\t\tif(err) {\r\n\t\t\t\t\tthrow new Error(err)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet container = $(el).find('.invest-card__test');\r\n\t\t\tlet chart =  AmCharts.makeChart(container[0], {\r\n\t\t\t\t\"type\": \"serial\",\r\n\t\t    \"marginRight\": 0,\r\n\t\t    \"marginLeft\": 0,\r\n\t\t    \"autoMarginOffset\": 0,\r\n        colors: ['#fff'],\r\n\t\t    \"dataProvider\": data,\r\n    \t\t\"dataDateFormat\": \"YYYY-MM-DD\",\r\n\t\t    \"valueAxes\": [{\r\n          \"axisAlpha\": 0,\r\n          labelsEnabled: false,\r\n          gridAlpha: 0,\r\n          gridThickness: 0,\r\n          offset: 0,\r\n          ignoreAxisWidth: true,\r\n          inside: true\r\n        }],\r\n        \"graphs\": [{\r\n          \"id\": \"g1\",\r\n          \"lineThickness\": 2,\r\n          \"valueField\": \"value\",\r\n          fillColors: ['#fff']\r\n\t      }],\r\n\t\t    \"categoryField\": \"date\",\r\n\t\t    \"categoryAxis\": {\r\n\t\t        \"parseDates\": true,\r\n\t\t        \"dashLength\": 1,\r\n\t\t        \"minorGridEnabled\": true,\r\n          \tlabelsEnabled: false,\r\n\t          gridAlpha: 0,\r\n\t          gridThickness: 0,\r\n\t          ignoreAxisWidth: true,\r\n\t          inside: true\r\n\t\t    }\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n\t\t// init slider\r\n\t\t$('.invest-slider__list').slick({\r\n\t\t\tslidesToShow: 3,\r\n\t\t\tslidesToScroll: 3,\r\n\t\t\tinfinite: false,\r\n\t\t\tprevArrow: $('.invest-slider__arrow--prev'),\r\n\t\t\tnextArrow: $('.invest-slider__arrow--next'),\r\n\t\t\tresponsive: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbreakpoint: 1300,\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tarrows:false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t})();\r\n\r\n\t// accordeon\r\n\t(function(){\r\n\r\n\t\tfunction accordeonHandler () {\r\n\t\t\tconst self = $(this);\r\n\t\t\tconst item = self.closest('.accordeon__item');\r\n\t\t\tconst target = item.find('.accordeon__data');\r\n\r\n\t\t\tif(item.hasClass('is-active')) {\r\n\t\t\t\ttarget.stop(true, true).slideUp();\r\n\t\t\t\titem.removeClass('is-active');\r\n\t\t\t} else {\r\n\t\t\t\ttarget.stop(true, true).slideDown();\r\n\t\t\t\titem.addClass('is-active');\r\n\t\t\t}\r\n\t\t} \r\n\r\n\t\t$('.accordeon__title').on('click', accordeonHandler)\r\n\t})();\r\n\r\n\t// gallery\r\n\t(function () {\r\n\r\n\t\tfunction createThumbs (e, slick) {\r\n\t\t\tconst wrapper = $(slick.$slider).closest('.slider-wrapper');\r\n\r\n\t\t\tconst list = $('<div />', {\r\n\t\t\t\tclass: 'gallery-thumbs'\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(\"slick: \", slick);\r\n\r\n\t\t\tfunction itemHandler () {\r\n\t\t\t\tlet idx = $(this).attr('data-slick') || 0;\r\n\t\t\t\tslick.goTo(idx);\r\n\t\t\t} \r\n\r\n\t\t\tslick.$slides.each((idx, n) => {\r\n\t\t\t\tlet src = $(n).attr('data-thumb') || $(n).attr('src');\r\n\r\n\t\t\t\tconst item = $('<div />', {\r\n\t\t\t\t\tclass: 'gallery-thumbs__item',\r\n\t\t\t\t\t'data-slick': idx,\r\n\t\t\t\t\tcss: {\r\n\t\t\t\t\t\tbackgroundImage: `url(${src})`\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(slick.currentSlide === idx) {\r\n\t\t\t\t\titem.addClass('is-active')\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.on('click', itemHandler);\r\n\t\t\t\tlist.append(item)\r\n\t\t\t});\r\n\r\n\t\t\tlist.insertAfter(wrapper);\r\n\r\n\t\t} \r\n\r\n\t\t$('.gallery').each((idx, el) =>{\r\n\t\t\tconst wrapper = $(el).closest('.slider-wrapper');\r\n\t\t\t$(el).on('init', createThumbs);\r\n\r\n\t\t\t$(el).slick({\r\n\t\t\t\tslidesToShow: 1,\r\n\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\tautoplay: true,\r\n\t\t\t\tautoplaySpeed: 7000,\r\n\t\t\t\tdots: false,\r\n\t\t\t\tappendArrows: $(wrapper),\r\n\t\t\t\tresponsive: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 1260,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tarrows: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbreakpoint: 780,\r\n\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\tdots: true,\r\n\t\t\t\t\t\t\tarrows: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\r\n\t\t\t// await nodes creation\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet list = $(wrapper).siblings('.gallery-thumbs');\r\n\r\n\t\t\t\t$(el).on('afterChange', function(e, slick, slide) {\r\n\t\t\t\t\tlet item = list.find('.gallery-thumbs__item')[slide];\r\n\t\t\t\t\t$(item).addClass('is-active')\r\n\t\t\t\t\t\t.siblings('.gallery-thumbs__item')\r\n\t\t\t\t\t\t.removeClass('is-active');\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, 0);\r\n\t\t})\r\n\t})();\r\n\r\n\t// checkboxes\r\n\t(function () {\r\n\r\n\t\tfunction applyCheckbox(el) {\r\n\t\t\t$(el).find('.checkbox__box');\r\n\r\n\t\t\t// break if already exist\r\n\t\t\tif($(el).find('.checkbox__box').length > 0) { return }\r\n\r\n\t\t\tconst input = $(el).find('input');\r\n\t\t\tconst t = input[0].type;\r\n\t\t\tconst box = $('<div />', {\r\n\t\t\t\tclass: `checkbox__box`\r\n\t\t\t})\r\n\r\n\t\t\t$(el).addClass('is-initialize')\r\n\t\t\tbox.insertAfter(input);\r\n\t\t} \t\r\n\r\n\t\t$('.checkbox').each((idx, el) =>{\r\n\t\t\tapplyCheckbox(el)\r\n\t\t});\r\n\t})();\r\n\r\n\t// toggle mobile block\r\n\t(function () {\r\n\r\n\t\tconst block = $('.mobile-block');\r\n\t\tconst body = $('body');\r\n\r\n\t\tfunction getScrollbarWidth() {\r\n\t    var outer = document.createElement(\"div\");\r\n\t    outer.style.visibility = \"hidden\";\r\n\t    outer.style.width = \"100px\";\r\n\t    outer.style.msOverflowStyle = \"scrollbar\"; // needed for WinJS apps\r\n\r\n\t    document.body.appendChild(outer);\r\n\r\n\t    var widthNoScroll = outer.offsetWidth;\r\n\t    // force scrollbars\r\n\t    outer.style.overflow = \"scroll\";\r\n\r\n\t    // add innerdiv\r\n\t    var inner = document.createElement(\"div\");\r\n\t    inner.style.width = \"100%\";\r\n\t    outer.appendChild(inner);        \r\n\r\n\t    var widthWithScroll = inner.offsetWidth;\r\n\r\n\t    // remove divs\r\n\t    outer.parentNode.removeChild(outer);\r\n\r\n\t    return widthNoScroll - widthWithScroll;\r\n\t\t}\r\n\r\n\t\tconst w = getScrollbarWidth();\r\n\r\n\t\tfunction appendStyles () {\r\n\t\t\tconst css = `.on-mobile-open { margin-right: ${w}px }`,\r\n\t\t\t    head = document.head || document.getElementsByTagName('head')[0];\r\n\r\n\t\t\tlet style = document.getElementById('mobile-block-css');\r\n\r\n\t\t\tif(!style) {\r\n\t\t\t\tstyle = document.createElement('style');\r\n\t\t\t} else {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tstyle.type = 'text/css';\r\n\t\t\tstyle.id = 'mobile-block-css';\r\n\r\n\t\t\tif (style.styleSheet){\r\n\t\t\t  style.styleSheet.cssText = css;\r\n\t\t\t} else {\r\n\t\t\t  style.appendChild(document.createTextNode(css));\r\n\t\t\t}\r\n\r\n\t\t\thead.appendChild(style);\r\n\t\t\tconsole.log(\"document.getElementsById(''): \", document.getElementById('mobile-block-css'));\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\tfunction toggleMobileBlock (event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tappendStyles();\r\n\t\t\tif(block.is(':visible')) {\r\n\t\t\t\t\r\n\t\t\t\tblock.stop(true, true).fadeOut(400, () => {\r\n\t\t\t\t\t$('body').removeClass('on-mobile-open');\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t} else{\r\n\t\t\t\tblock.stop(true, true).fadeIn(300);\r\n\t\t\t\t$('body').addClass('on-mobile-open');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tappendStyles ();\r\n\r\n\t\t$('.js-mbtoggle').on('click', toggleMobileBlock)\r\n\t})();\r\n\r\n\t//header bar-tip \r\n\t(function() {\r\n\t\tfunction handler (e){\r\n\t\t\t$(this).toggleClass('is-active').siblings('.bar__item').removeClass('is-active')\r\n\t\t}\r\n\t\t$('.js-bar__btn').on('click', handler)\r\n\t})();\r\n\r\n\t// page navigation dropdown\r\n\t(function() {\r\n\t\tlet list = $('.page-nav');\r\n\r\n\t\tfunction makeDrop () {\r\n\t\t\tconst div = $('<div />', {\r\n\t\t\t\tclass: 'page-nav-drop'\r\n\t\t\t});\r\n\r\n\t\t\tdiv.text('Выбор раздела');\r\n\t\t\tdiv.on('click', pageNavToggle)\r\n\r\n\t\t\treturn div\r\n\t\t} \r\n\r\n\t\tfunction pageNavToggle (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet nav = $(this).siblings('.page-nav');\r\n\t\t\tif($(this).hasClass('is-active')) {\r\n\t\t\t\t\r\n\t\t\t\t$(nav).stop(true, true).slideUp(400, () => {\r\n\t\t\t\t\t$(this).removeClass('is-active');\r\n\t\t\t\t\t$(nav).css('display', '');\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$(nav).stop(true, true).slideDown(400, () => {\r\n\t\t\t\t\t$(this).addClass('is-active');\r\n\t\t\t\t\t$(nav).css('display', '');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlist.each(function(idx, el) {\r\n\t\t\tconst d = makeDrop ();\r\n\r\n\t\t\tif($(el).siblings('.page-nav-drop').length === 0) {\r\n\t\t\t\td.insertBefore(el)\r\n\t\t\t}\r\n\t\t})\r\n\t})();\r\n\r\n\t// fancybox\r\n\r\n\t(function() {\r\n\t\t$('.fb').fancybox()\r\n\t})();\r\n\r\n});"]}