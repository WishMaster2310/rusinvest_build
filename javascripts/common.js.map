{"version":3,"sources":["common.js"],"names":["$","applyHeroBackground","idx","el","bg","css","target","find","length","backgroundImage","newsTabHandler","e","preventDefault","this","attr","addClass","siblings","removeClass","makeCustomDots","slick","slider","dotsClass","dest","overHandler","container","changeHandler","s","i","items","eq","outHandler","handler","index","len","$slides","ms","options","autoplaySpeed","class","link","html","on","append","personListHandler","closest","slidesToShow","slidesToScroll","autoplay","fade","arrows","dots","each","SumoSelect","captionFormat","captionFormatAllSelected","wrapper","block","list","adaptiveHeight","appendArrows","infinite","makeSlider","listWrapper","wrap","height","slickTrack","slickTrackHeight","tabHandler","self","hasClass","data","JSON","parse","decodeURIComponent","err","Error","AmCharts","makeChart","type","marginRight","marginLeft","autoMarginOffset","colors","dataProvider","dataDateFormat","valueAxes","axisAlpha","labelsEnabled","gridAlpha","gridThickness","offset","ignoreAxisWidth","inside","graphs","id","lineThickness","valueField","fillColors","categoryField","categoryAxis","parseDates","dashLength","minorGridEnabled","prevArrow","nextArrow"],"mappings":"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","file":"../sources/common.js","sourcesContent":["$(function() {\r\n\t//makeHerorDots ();\r\n\t$('.hero__slider').on('init', (e, slick)=> {\r\n\t\tmakeCustomDots(slick, '.hero__slider', 'hero__dots', '.hero');\r\n\t});\r\n\r\n\t$('.hero__slider').slick({\r\n\t\tslidesToShow: 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tautoplay: true,\r\n\t\tautoplaySpeed: 7000,\r\n\t\tfade: true,\r\n\t\tarrows: false,\r\n\t\tdots: false\r\n\t});\r\n\r\n\t$('.hero__slider .hero__slide').each(applyHeroBackground);\r\n\r\n\tfunction applyHeroBackground (idx, el) {\r\n\t\tlet bg = $(el).css('backgroundImage');\r\n\t\tlet target = $(el).find('.hero__tile-list');\r\n\r\n\t\tif(bg && target.length > 0) {\r\n\t\t\t$(target).css({\r\n\t\t\t\tbackgroundImage: bg\r\n\t\t\t})\r\n\t\t}\r\n\t} \r\n\r\n\tfunction newsTabHandler(e) {\r\n\t\te.preventDefault();\r\n\t\tlet target = $(this).attr('href');\r\n\t\t$(this).addClass('is-active').siblings().removeClass('is-active');\r\n\t\t$(target).addClass('is-active').siblings().removeClass('is-active');\r\n\t}\r\n\r\n\tfunction makeCustomDots (slick, slider, dotsClass, dest) {\r\n\t\tlet len = slick.$slides.length;\r\n\t\tif(len < 2) return;\r\n\t\tlet ms = slick.options.autoplaySpeed\r\n\r\n\t\tlet container = $('<div />', {\r\n\t\t\tclass: `${dotsClass} timed-dots`\r\n\t\t});\r\n\r\n\t\tfunction overHandler() {\r\n\t\t\tcontainer.addClass('no-animate')\r\n\t\t}\r\n\r\n\t\tfunction changeHandler (e, s, i) {\r\n\t\t\tlet items = $(container).find('.timed-dots__item');\r\n\t\t\titems.eq(i)\r\n\t\t\t\t.addClass('is-active')\r\n\t\t\t\t.siblings().removeClass('is-active');\r\n\t\t} \r\n\r\n\t\tfunction outHandler() {\r\n\t\t\tcontainer.removeClass('no-animate')\r\n\t\t} \r\n\r\n\t\tfunction handler () {\r\n\t\t\t$(slider).slick('goTo', $(this).index())\r\n\t\t} \r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tlet link = $('<div />', {\r\n\t\t\t\tclass: `timed-dots__item`,\r\n\t\t\t\thtml: `<span>0${i + 1}</span>\r\n\t\t\t\t\t\t\t<svg viewBox=\"0 0 56 56\">\r\n\t\t\t\t\t\t\t\t<circle \r\n\t\t\t\t\t\t\t\t\tcx=\"28\" \r\n\t\t\t\t\t\t\t\t\tcy=\"28\" \r\n\t\t\t\t\t\t\t\t\tr=\"25\" \r\n\t\t\t\t\t\t\t\t\tstroke-width=\"2\" \r\n\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"\r\n\t\t\t\t\t\t\t\t\t\t-moz-animation-duration: ${ms}ms !important;\r\n\t\t\t\t\t\t\t\t\t\t-webkit-animation-duration: ${ms}ms !important; \r\n\t\t\t\t\t\t\t\t\t\tanimation-duration: ${ms}ms !important\" />\r\n\t\t\t\t\t\t\t</svg>`\r\n\t\t\t});\r\n\r\n\t\t\tif(i === 0) {\r\n\t\t\t\tlink.addClass('is-active')\r\n\t\t\t}\r\n\r\n\t\t\tlink.on('click', handler)\r\n\t\t\tcontainer.append(link)\r\n\t\t\t$(dest).append(container);\r\n\t\t\t$(slider)\r\n\t\t\t\t.on('mouseover', overHandler)\r\n\t\t\t\t.on('mouseout', outHandler)\r\n\t\t\t\t.on('afterChange', changeHandler)\r\n\t\t}\r\n\t} \r\n\r\n\t$('.js-select').SumoSelect({\r\n\t\tcaptionFormat: '{0} Выбрано',\r\n\t\tcaptionFormatAllSelected: '{0} Все выбраны'\r\n\t})\r\n\r\n\r\n\t$('.newstab-nav__item').on('click', newsTabHandler);\r\n\r\n\t$('.person-slider').each(function(idx, el) {\r\n\t\tlet wrapper = $(el).closest('.slider-wrapper');\r\n\t\tlet block = $(el).closest('.person-slider-wrapper');\r\n\t\tlet list = block.find('.person-list');\r\n\t\r\n\t\t$(el).slick({\r\n\t\t\tfade: true,\r\n\t\t\tadaptiveHeight: true,\r\n\t\t\tappendArrows: $(wrapper)\r\n\t\t});\r\n\r\n\t\tif(list.length > 0) {\r\n\t\t\t$(el).on('afterChange', function(e, slick, i){\r\n\t\t\t\t\r\n\t\t\t\tlist.find('.person-list__item').eq(i)\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.person-list__item')\r\n\t\t\t\t\t.removeClass('is-active')\r\n\t\t\t})\r\n\t\t}\r\n\t});\r\n\r\n\t$('.service-slider').each(function(idx, el) {\r\n\t\tlet wrapper = $(el).closest('.slider-wrapper');\r\n\t\r\n\t\t$(el).slick({\r\n\t\t\tappendArrows: $(wrapper),\r\n\t\t\tslidesToShow: 5,\r\n\t\t\tslidesToScroll: 5,\r\n\t\t\tinfinite: false\r\n\t\t});\r\n\t});\r\n\r\n\tfunction personListHandler () {\r\n\t\tlet slider = $(this).closest('.person-slider-wrapper').find('.person-slider');\r\n\r\n\t\tif($(slider).length > 0) {\r\n\t\t\t$(slider).slick('goTo', $(this).index())\r\n\t\t}\r\n\t}\r\n\r\n\t$('.person-list__item').on('click', personListHandler);\r\n\r\n\r\n\t;(function(){\r\n\t\t$('.mapper__link').on('click', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet target = $(this).closest('.mapper').addClass('is-active');\r\n\t\t})\r\n\t})();\r\n\r\n\r\n\t;(function(){\r\n\t\t$('.lined-list, .pillar-list').each(makeSlider);\r\n\t\tfunction makeSlider () {\r\n\t\t\tlet list = $(this);\r\n\r\n\t\t\tlet listWrapper = $('<div />', {\r\n\t\t\t\tclass: 'lined-list-wrapper slider-wrapper'\r\n\t\t\t});\r\n\t\t\tlist.wrap(listWrapper);\r\n\r\n\t\t\tlet wrapper = $(list).closest('.lined-list-wrapper');\r\n\r\n\t\t\tlist.slick({\r\n\t\t\t\tappendArrows: $(wrapper),\r\n\t\t\t\tinfinite: false,\r\n\t\t\t\tslidesToShow: 5\r\n\t\t\t})\r\n\t\t} \r\n\r\n\t\t$('.lined-list, .pillar-list').on('setPosition', function () {\r\n\t\t\t$(this).find('.slick-slide').height('auto');\r\n\t\t\tvar slickTrack = $(this).find('.slick-track');\r\n\t\t\tvar slickTrackHeight = $(slickTrack).height();\r\n\t\t\t$(this).find('.slick-slide').css('height', slickTrackHeight + 'px');\r\n\t\t});\r\n\r\n\r\n\t})();\r\n\r\n\r\n\t;(function () {\r\n\t\t$('.carousel').on('init', (e, slick)=> {\r\n\t\t\tmakeCustomDots(slick, '.carousel', 'carousel__dots', '.carousel');\r\n\t\t});\r\n\r\n\t\t$('.carousel').slick({\r\n\t\t\tslidesToShow: 1,\r\n\t\t\tslidesToScroll: 1,\r\n\t\t\tautoplay: true,\r\n\t\t\tautoplaySpeed: 7000,\r\n\t\t\tarrows: false,\r\n\t\t\tdots: false,\r\n\t\t\tfade: true\r\n\t\t});\r\n\r\n\t})();\r\n\r\n\r\n\t;(function(){\r\n\t\t$('.tab-nav__item').on('click', tabHandler);\r\n\r\n\t\tfunction tabHandler (e) {\r\n\t\t\tlet self = $(this);\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif(self.hasClass('is-active')) return;\r\n\r\n\t\t\tlet target = self.attr('href');\r\n\r\n\t\t\tif($(target).length > 0) {\r\n\t\t\t\t$(target)\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.tab').removeClass('is-active');\r\n\r\n\t\t\t\tself\r\n\t\t\t\t\t.addClass('is-active')\r\n\t\t\t\t\t.siblings('.tab-nav__item').removeClass('is-active');\r\n\t\t\t} else {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t} \r\n\t})();\r\n\r\n\r\n\t// invest slider\r\n\t!(function(){\r\n\t\t// invest cards\r\n\r\n\t\t$('.invest-card').each((idx, el) => {\r\n\t\t\tlet data = $(el).attr('data-chart');\r\n\r\n\t\t\tif(!data) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdata = JSON.parse(decodeURIComponent(data));\r\n\t\t\t} catch(err) {\r\n\t\t\t\tif(err) {\r\n\t\t\t\t\tthrow new Error(err)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet container = $(el).find('.invest-card__test');\r\n\t\t\tlet chart =  AmCharts.makeChart(container[0], {\r\n\t\t\t\t\"type\": \"serial\",\r\n\t\t    \"marginRight\": 0,\r\n\t\t    \"marginLeft\": 0,\r\n\t\t    \"autoMarginOffset\": 0,\r\n        colors: ['#fff'],\r\n\t\t    \"dataProvider\": data,\r\n    \t\t\"dataDateFormat\": \"YYYY-MM-DD\",\r\n\t\t    \"valueAxes\": [{\r\n          \"axisAlpha\": 0,\r\n          labelsEnabled: false,\r\n          gridAlpha: 0,\r\n          gridThickness: 0,\r\n          offset: 0,\r\n          ignoreAxisWidth: true,\r\n          inside: true\r\n        }],\r\n        \"graphs\": [{\r\n          \"id\": \"g1\",\r\n          \"lineThickness\": 2,\r\n          \"valueField\": \"value\",\r\n          fillColors: ['#fff']\r\n\t      }],\r\n\t\t    \"categoryField\": \"date\",\r\n\t\t    \"categoryAxis\": {\r\n\t\t        \"parseDates\": true,\r\n\t\t        \"dashLength\": 1,\r\n\t\t        \"minorGridEnabled\": true,\r\n          \tlabelsEnabled: false,\r\n\t          gridAlpha: 0,\r\n\t          gridThickness: 0,\r\n\t          ignoreAxisWidth: true,\r\n\t          inside: true\r\n\t\t    }\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n\t\t// init slider\r\n\t\t$('.invest-slider__list').slick({\r\n\t\t\tslidesToShow: 3,\r\n\t\t\tslidesToScroll: 3,\r\n\t\t\tinfinite: false,\r\n\t\t\tprevArrow: $('.invest-slider__arrow--prev'),\r\n\t\t\tnextArrow: $('.invest-slider__arrow--next')\r\n\t\t});\r\n\r\n\r\n\t})();\r\n\r\n\r\n});"]}